@page "/"

@using RentOfWorkshopsCore.DBConnection
@using RentOfWorkshopsCore.DBContext
@using RentOfWorkshopsWEB.Shared.Space
@using RentOfWorkshopsWEB.Shared.SearhBar

@inject SpaceCollection SpaceCollection

<SearchBarComponent/>
<SpacesCollectionComponent Spaces=SpaceCollection.SpaceList/>

@code{
    protected override Task OnInitializedAsync()
    {
        SpaceCollection.StateChanged += OnStateChanged;
        return base.OnInitializedAsync();
    }

    private void OnStateChanged(List<Space> spaces)
    {
        InvokeAsync(StateHasChanged);
    }
}